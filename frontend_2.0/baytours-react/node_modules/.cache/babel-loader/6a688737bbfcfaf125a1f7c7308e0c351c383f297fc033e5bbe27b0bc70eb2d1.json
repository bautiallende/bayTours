{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bautista\\\\Documents\\\\Proyectos\\\\bayTours\\\\bayTours\\\\frontend_2.0\\\\baytours-react\\\\src\\\\components\\\\HotelAddAnotherModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Modal, Button, Form, Row, Col, Alert } from 'react-bootstrap';\n\n/**\r\n * Función auxiliar para formatear una fecha al formato \"YYYY-MM-DD\"\r\n * Se espera que el string de fecha sea ISO o similar.\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatDateForInput = dateString => {\n  if (!dateString) return '';\n  const dateObj = new Date(dateString);\n  if (isNaN(dateObj.getTime())) return '';\n  return dateObj.toISOString().split('T')[0];\n};\n\n/**\r\n * HotelAddAnotherModal permite agregar una nueva asignación de hotel para el mismo día.\r\n *\r\n * Props:\r\n * - show: Booleano que indica si el modal se muestra.\r\n * - onHide: Callback para ocultar el modal.\r\n * - initialData: Objeto que debe contener al menos:\r\n *      { city, date, id_group }\r\n *   (la ciudad y la fecha se muestran en solo lectura).\r\n * - onSave: Callback que recibe el payload con los datos ingresados; el componente padre se encargará de llamar al endpoint POST /asign_hotel_same_day.\r\n * - groupPax: Número total de pasajeros del grupo (para validar el número de PAX asignados).\r\n */\nconst HotelAddAnotherModal = ({\n  show,\n  onHide,\n  initialData = {},\n  onSave,\n  groupPax\n}) => {\n  _s();\n  console.log('initialData:', initialData);\n  // Estados de los campos (ciudad y fecha son solo lectura)\n  const [city, setCity] = useState(initialData.city || '');\n  const [date, setDate] = useState(formatDateForInput(initialData.date));\n\n  // No se precarga hotelId (se debe elegir)\n  const [hotelId, setHotelId] = useState('');\n  const [hotelsList, setHotelsList] = useState([]);\n\n  // Los campos de check-in y check-out se precargan si no hay valores en initialData.\n  const [checkIn, setCheckIn] = useState('');\n  const [checkOut, setCheckOut] = useState('');\n  const [roomingList, setRoomingList] = useState(false);\n  const [proForma, setProForma] = useState(false);\n  // Moneda por defecto: EUR\n  const [currency, setCurrency] = useState('EUR');\n  const [totalToPay, setTotalToPay] = useState(0);\n  const [paymentDate, setPaymentDate] = useState('');\n  const [paymentDoneDate, setPaymentDoneDate] = useState('');\n  const [factura, setFactura] = useState(false);\n  const [iga, setIga] = useState(false);\n  // PAX asignados para esta nueva asignación\n  const [paxAssigned, setPaxAssigned] = useState(0);\n  // Comentario nuevo para esta asignación\n  const [comment, setComment] = useState('');\n  // Mensaje de validación\n  const [validationMsg, setValidationMsg] = useState('');\n\n  // Calcula valores por defecto para check-in y check-out cuando cambia la fecha\n  useEffect(() => {\n    if (date) {\n      setCheckIn(date);\n      const dt = new Date(date);\n      dt.setDate(dt.getDate() + 1);\n      setCheckOut(dt.toISOString().split('T')[0]);\n    }\n  }, [date]);\n\n  // Al montar (o cambiar la ciudad) se obtiene la lista de hoteles para esa ciudad\n  useEffect(() => {\n    if (city) {\n      fetch(`${process.env.REACT_APP_API_URL}/hotels/get_hotel_by_city?city=${encodeURIComponent(city)}`).then(res => res.json()).then(data => setHotelsList(data)).catch(err => console.error('Error al obtener hoteles:', err));\n    }\n  }, [city]);\n\n  // Función para manejar el envío del formulario.\n  const handleSubmit = e => {\n    e.preventDefault();\n    // Validar PAX asignados\n    const paxVal = parseInt(paxAssigned, 10);\n    if (paxVal === 0) {\n      setValidationMsg('El número de PAX asignados debe ser mayor que 0.');\n      return;\n    }\n    if (paxVal > parseInt(groupPax, 10)) {\n      setValidationMsg('El número de PAX asignados no puede superar el total del grupo.');\n      return;\n    }\n    // Construir payload para enviar al backend\n    const payload = {\n      // Para agregar, no se envía assignment_id\n      id_hotel: parseInt(hotelId, 10),\n      id_group: initialData.id_group || '',\n      start_date: checkIn,\n      end_date: checkOut,\n      pax: paxVal,\n      currency,\n      total_to_pay: parseFloat(totalToPay),\n      comment,\n      rooming_list: roomingList,\n      pro_forma: proForma,\n      payment_date: paymentDate || null,\n      payment_done_date: paymentDoneDate || null,\n      payed_by: null,\n      factura,\n      iga\n    };\n    console.log('Payload a enviar (add another):', payload);\n    onSave(payload);\n    onHide();\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: onHide,\n    centered: true,\n    size: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Agregar otro hotel para este d\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCity\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Ciudad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                value: city,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formDate\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: date,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formHotel\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Hotel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n            value: hotelId,\n            onChange: e => setHotelId(e.target.value),\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Seleccione un hotel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), hotelsList.map(hotel => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: hotel.id_hotel,\n              children: hotel.hotel_name\n            }, hotel.id_hotel, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCheckIn\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Check-in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: checkIn,\n                onChange: e => setCheckIn(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCheckOut\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Check-out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: checkOut,\n                onChange: e => setCheckOut(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formRoomingList\",\n              label: \"Rooming List Enviado\",\n              checked: roomingList,\n              onChange: e => setRoomingList(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formProForma\",\n              label: \"Pro Forma Enviado\",\n              checked: proForma,\n              onChange: e => setProForma(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCurrency\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Moneda\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: currency,\n                onChange: e => setCurrency(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"EUR\",\n                  children: \"EUR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"USD\",\n                  children: \"USD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"ARS\",\n                  children: \"ARS\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formTotalToPay\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Total a Pagar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                value: totalToPay,\n                onChange: e => setTotalToPay(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formPAX\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"PAX Asignados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                value: paxAssigned,\n                onChange: e => setPaxAssigned(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formPaymentDate\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Fecha de Pago\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: paymentDate,\n                onChange: e => setPaymentDate(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formPaymentDoneDate\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Fecha de Pago Realizado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: paymentDoneDate,\n                onChange: e => setPaymentDoneDate(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formFactura\",\n              label: \"Factura Emitida\",\n              checked: factura,\n              onChange: e => setFactura(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formIGA\",\n              label: \"IGA Gestionado\",\n              checked: iga,\n              onChange: e => setIga(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formComments\",\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Comentarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            rows: 3,\n            placeholder: \"Escribe un comentario para esta asignaci\\xF3n...\",\n            value: comment,\n            onChange: e => setComment(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), validationMsg && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: validationMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: onHide,\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          disabled: parseInt(paxAssigned, 10) === 0 || parseInt(paxAssigned, 10) > parseInt(groupPax, 10),\n          children: \"Guardar Cambios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(HotelAddAnotherModal, \"TthmkQe1Yx/0RVBQUw4oWrw+gN0=\");\n_c = HotelAddAnotherModal;\nexport default HotelAddAnotherModal;\nvar _c;\n$RefreshReg$(_c, \"HotelAddAnotherModal\");","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","Form","Row","Col","Alert","jsxDEV","_jsxDEV","formatDateForInput","dateString","dateObj","Date","isNaN","getTime","toISOString","split","HotelAddAnotherModal","show","onHide","initialData","onSave","groupPax","_s","console","log","city","setCity","date","setDate","hotelId","setHotelId","hotelsList","setHotelsList","checkIn","setCheckIn","checkOut","setCheckOut","roomingList","setRoomingList","proForma","setProForma","currency","setCurrency","totalToPay","setTotalToPay","paymentDate","setPaymentDate","paymentDoneDate","setPaymentDoneDate","factura","setFactura","iga","setIga","paxAssigned","setPaxAssigned","comment","setComment","validationMsg","setValidationMsg","dt","getDate","fetch","process","env","REACT_APP_API_URL","encodeURIComponent","then","res","json","data","catch","err","error","handleSubmit","e","preventDefault","paxVal","parseInt","payload","id_hotel","id_group","start_date","end_date","pax","total_to_pay","parseFloat","rooming_list","pro_forma","payment_date","payment_done_date","payed_by","centered","size","children","onSubmit","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","className","md","Group","controlId","Label","Control","type","value","readOnly","Select","onChange","target","required","map","hotel","hotel_name","Check","id","label","checked","as","rows","placeholder","variant","Footer","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Bautista/Documents/Proyectos/bayTours/bayTours/frontend_2.0/baytours-react/src/components/HotelAddAnotherModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Modal, Button, Form, Row, Col, Alert } from 'react-bootstrap';\r\n\r\n/**\r\n * Función auxiliar para formatear una fecha al formato \"YYYY-MM-DD\"\r\n * Se espera que el string de fecha sea ISO o similar.\r\n */\r\nconst formatDateForInput = (dateString) => {\r\n  if (!dateString) return '';\r\n  const dateObj = new Date(dateString);\r\n  if (isNaN(dateObj.getTime())) return '';\r\n  return dateObj.toISOString().split('T')[0];\r\n};\r\n\r\n/**\r\n * HotelAddAnotherModal permite agregar una nueva asignación de hotel para el mismo día.\r\n *\r\n * Props:\r\n * - show: Booleano que indica si el modal se muestra.\r\n * - onHide: Callback para ocultar el modal.\r\n * - initialData: Objeto que debe contener al menos:\r\n *      { city, date, id_group }\r\n *   (la ciudad y la fecha se muestran en solo lectura).\r\n * - onSave: Callback que recibe el payload con los datos ingresados; el componente padre se encargará de llamar al endpoint POST /asign_hotel_same_day.\r\n * - groupPax: Número total de pasajeros del grupo (para validar el número de PAX asignados).\r\n */\r\nconst HotelAddAnotherModal = ({ show, onHide, initialData = {}, onSave, groupPax }) => {\r\n\r\n    console.log('initialData:', initialData);\r\n  // Estados de los campos (ciudad y fecha son solo lectura)\r\n  const [city, setCity] = useState(initialData.city || '');\r\n  const [date, setDate] = useState(formatDateForInput(initialData.date));\r\n  \r\n  // No se precarga hotelId (se debe elegir)\r\n  const [hotelId, setHotelId] = useState('');\r\n  const [hotelsList, setHotelsList] = useState([]);\r\n\r\n  // Los campos de check-in y check-out se precargan si no hay valores en initialData.\r\n  const [checkIn, setCheckIn] = useState('');\r\n  const [checkOut, setCheckOut] = useState('');\r\n\r\n  const [roomingList, setRoomingList] = useState(false);\r\n  const [proForma, setProForma] = useState(false);\r\n  // Moneda por defecto: EUR\r\n  const [currency, setCurrency] = useState('EUR');\r\n  const [totalToPay, setTotalToPay] = useState(0);\r\n  const [paymentDate, setPaymentDate] = useState('');\r\n  const [paymentDoneDate, setPaymentDoneDate] = useState('');\r\n  const [factura, setFactura] = useState(false);\r\n  const [iga, setIga] = useState(false);\r\n  // PAX asignados para esta nueva asignación\r\n  const [paxAssigned, setPaxAssigned] = useState(0);\r\n  // Comentario nuevo para esta asignación\r\n  const [comment, setComment] = useState('');\r\n  // Mensaje de validación\r\n  const [validationMsg, setValidationMsg] = useState('');\r\n\r\n  // Calcula valores por defecto para check-in y check-out cuando cambia la fecha\r\n  useEffect(() => {\r\n    if (date) {\r\n      setCheckIn(date);\r\n      const dt = new Date(date);\r\n      dt.setDate(dt.getDate() + 1);\r\n      setCheckOut(dt.toISOString().split('T')[0]);\r\n    }\r\n  }, [date]);\r\n\r\n  // Al montar (o cambiar la ciudad) se obtiene la lista de hoteles para esa ciudad\r\n  useEffect(() => {\r\n    if (city) {\r\n      fetch(`${process.env.REACT_APP_API_URL}/hotels/get_hotel_by_city?city=${encodeURIComponent(city)}`)\r\n        .then(res => res.json())\r\n        .then(data => setHotelsList(data))\r\n        .catch(err => console.error('Error al obtener hoteles:', err));\r\n    }\r\n  }, [city]);\r\n\r\n  // Función para manejar el envío del formulario.\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // Validar PAX asignados\r\n    const paxVal = parseInt(paxAssigned, 10);\r\n    if (paxVal === 0) {\r\n      setValidationMsg('El número de PAX asignados debe ser mayor que 0.');\r\n      return;\r\n    }\r\n    if (paxVal > parseInt(groupPax, 10)) {\r\n      setValidationMsg('El número de PAX asignados no puede superar el total del grupo.');\r\n      return;\r\n    }\r\n    // Construir payload para enviar al backend\r\n    const payload = {\r\n      // Para agregar, no se envía assignment_id\r\n      id_hotel: parseInt(hotelId, 10),\r\n      id_group: initialData.id_group || '',\r\n      start_date: checkIn,\r\n      end_date: checkOut,\r\n      pax: paxVal,\r\n      currency,\r\n      total_to_pay: parseFloat(totalToPay),\r\n      comment,\r\n      rooming_list: roomingList,\r\n      pro_forma: proForma,\r\n      payment_date: paymentDate || null,\r\n      payment_done_date: paymentDoneDate || null,\r\n      payed_by: null,\r\n      factura,\r\n      iga,\r\n    };\r\n    console.log('Payload a enviar (add another):', payload);\r\n    onSave(payload);\r\n    onHide();\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={onHide} centered size=\"lg\">\r\n      <Form onSubmit={handleSubmit}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Agregar otro hotel para este día</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {/* Fila 1: Ciudad y Fecha (solo lectura) */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formCity\">\r\n                <Form.Label>Ciudad</Form.Label>\r\n                <Form.Control type=\"text\" value={city} readOnly />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formDate\">\r\n                <Form.Label>Fecha</Form.Label>\r\n                <Form.Control type=\"date\" value={date} readOnly />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Fila 2: Selección de Hotel */}\r\n          <Form.Group controlId=\"formHotel\">\r\n            <Form.Label>Hotel</Form.Label>\r\n            <Form.Select value={hotelId} onChange={(e) => setHotelId(e.target.value)} required>\r\n              <option value=\"\">Seleccione un hotel</option>\r\n              {hotelsList.map((hotel) => (\r\n                <option key={hotel.id_hotel} value={hotel.id_hotel}>\r\n                  {hotel.hotel_name}\r\n                </option>\r\n              ))}\r\n            </Form.Select>\r\n          </Form.Group>\r\n          {/* Fila 3: Check-in y Check-out */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formCheckIn\">\r\n                <Form.Label>Check-in</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={checkIn}\r\n                  onChange={(e) => setCheckIn(e.target.value)}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formCheckOut\">\r\n                <Form.Label>Check-out</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={checkOut}\r\n                  onChange={(e) => setCheckOut(e.target.value)}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Fila 4: Switches para Rooming List y Pro Forma */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={4}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formRoomingList\"\r\n                label=\"Rooming List Enviado\"\r\n                checked={roomingList}\r\n                onChange={(e) => setRoomingList(e.target.checked)}\r\n              />\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formProForma\"\r\n                label=\"Pro Forma Enviado\"\r\n                checked={proForma}\r\n                onChange={(e) => setProForma(e.target.checked)}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          {/* Fila 5: Moneda, Total a Pagar y PAX Asignados */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={4}>\r\n              <Form.Group controlId=\"formCurrency\">\r\n                <Form.Label>Moneda</Form.Label>\r\n                <Form.Select value={currency} onChange={(e) => setCurrency(e.target.value)}>\r\n                  <option value=\"EUR\">EUR</option>\r\n                  <option value=\"USD\">USD</option>\r\n                  <option value=\"ARS\">ARS</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group controlId=\"formTotalToPay\">\r\n                <Form.Label>Total a Pagar</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={totalToPay}\r\n                  onChange={(e) => setTotalToPay(e.target.value)}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group controlId=\"formPAX\">\r\n                <Form.Label>PAX Asignados</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={paxAssigned}\r\n                  onChange={(e) => setPaxAssigned(e.target.value)}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Fila 6: Fechas de Pago */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formPaymentDate\">\r\n                <Form.Label>Fecha de Pago</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={paymentDate}\r\n                  onChange={(e) => setPaymentDate(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formPaymentDoneDate\">\r\n                <Form.Label>Fecha de Pago Realizado</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={paymentDoneDate}\r\n                  onChange={(e) => setPaymentDoneDate(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Fila 7: Factura e IGA */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formFactura\"\r\n                label=\"Factura Emitida\"\r\n                checked={factura}\r\n                onChange={(e) => setFactura(e.target.checked)}\r\n              />\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formIGA\"\r\n                label=\"IGA Gestionado\"\r\n                checked={iga}\r\n                onChange={(e) => setIga(e.target.checked)}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          {/* Fila 8: Comentarios */}\r\n          <Form.Group controlId=\"formComments\" className=\"mb-3\">\r\n            <Form.Label>Comentarios</Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              rows={3}\r\n              placeholder=\"Escribe un comentario para esta asignación...\"\r\n              value={comment}\r\n              onChange={(e) => setComment(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          {validationMsg && <Alert variant=\"danger\">{validationMsg}</Alert>}\r\n        </Modal.Body>\r\n        <Modal.Footer className=\"d-flex justify-content-between\">\r\n          <Button variant=\"secondary\" onClick={onHide}>\r\n            Cancelar\r\n          </Button>\r\n          <Button\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n            disabled={\r\n              parseInt(paxAssigned, 10) === 0 ||\r\n              parseInt(paxAssigned, 10) > parseInt(groupPax, 10)\r\n            }\r\n          >\r\n            Guardar Cambios\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default HotelAddAnotherModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}