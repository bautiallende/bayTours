{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bautista\\\\Documents\\\\Proyectos\\\\bayTours\\\\bayTours\\\\frontend_2.0\\\\baytours-react\\\\src\\\\components\\\\GroupDetail\\\\modals\\\\HotelAddAnotherModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Button, Form, Row, Col, Alert } from 'react-bootstrap';\n\n/**\r\n * Extrae el año de una fecha en formato \"DD/MM/YYYY\" o \"DD-MM-YYYY\".\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getYearFromDate = dateStr => {\n  if (!dateStr) return '';\n  const parts = dateStr.includes('/') ? dateStr.split('/') : dateStr.split('-');\n  return parts.length === 3 ? parts[2] : '';\n};\n\n/**\r\n * Función auxiliar para formatear una fecha al formato \"YYYY-MM-DD\".\r\n * Soporta:\r\n * - \"DD/MM/YYYY\" o \"DD-MM-YYYY\"\r\n * - \"DD/MM\" o \"DD-MM\", usando defaultYear si se proporciona.\r\n * - Cadenas en formato ISO u otro, usando Date.\r\n */\nconst formatDateForInput = (dateString, defaultYear = '') => {\n  if (!dateString) return '';\n  if (dateString.includes('/')) {\n    const parts = dateString.split('/');\n    if (parts.length === 3) {\n      return `${parts[2]}-${parts[1]}-${parts[0]}`;\n    }\n    if (parts.length === 2 && defaultYear) {\n      return `${defaultYear}-${parts[1]}-${parts[0]}`;\n    }\n  }\n  if (dateString.includes('-')) {\n    const parts = dateString.split('-');\n    if (parts.length === 3 && parts[0].length === 2) {\n      return `${parts[2]}-${parts[1]}-${parts[0]}`;\n    }\n    if (parts.length === 2 && defaultYear) {\n      return `${defaultYear}-${parts[1]}-${parts[0]}`;\n    }\n  }\n  const dateObj = new Date(dateString);\n  if (isNaN(dateObj.getTime())) return '';\n  return dateObj.toISOString().split('T')[0];\n};\n\n/**\r\n * HotelAddAnotherModal permite agregar una nueva asignación de hotel para el mismo día.\r\n *\r\n * Props:\r\n * - show: Booleano que indica si el modal se muestra.\r\n * - onHide: Callback para ocultar el modal.\r\n * - initialData: Objeto que debe contener al menos { city, date, id_group, paxAssigned }.\r\n *                (La ciudad, fecha y PAX asignados se muestran en solo lectura.)\r\n * - onSave: Callback que recibe el payload con los datos ingresados; debe retornar una promesa.\r\n * - groupPax: Número total de pasajeros del grupo (para validar el número de PAX asignados).\r\n * - assignedPaxTotal: Número total de PAX ya asignados (según el backend).\r\n * - onAddAnother: Callback para iniciar el flujo de agregar otro hotel.\r\n */\nconst HotelAddAnotherModal = ({\n  show,\n  onHide,\n  initialData = {},\n  onSave,\n  groupPax,\n  assignedPaxTotal = 0,\n  onAddAnother\n}) => {\n  _s();\n  // Estados para los campos editables y mostrados\n  const [city, setCity] = useState('');\n  const [date, setDate] = useState('');\n  const [hotelId, setHotelId] = useState('');\n  const [hotelsList, setHotelsList] = useState([]);\n  const [checkIn, setCheckIn] = useState('');\n  const [checkOut, setCheckOut] = useState('');\n  const [roomingList, setRoomingList] = useState(false);\n  const [proForma, setProForma] = useState(false);\n  const [currency, setCurrency] = useState('EUR');\n  const [totalToPay, setTotalToPay] = useState(0);\n  const [paymentDate, setPaymentDate] = useState('');\n  const [paymentDoneDate, setPaymentDoneDate] = useState('');\n  const [factura, setFactura] = useState(false);\n  const [iga, setIga] = useState(false);\n  const [paxAssigned, setPaxAssigned] = useState(0);\n  const [comment, setComment] = useState('');\n  const [validationMsg, setValidationMsg] = useState('');\n  const [assignedPax, setAssignedPax] = useState(initialData.assigned_pax || 0);\n\n  // No usamos localAssignedPax; en su lugar, calculamos la disponibilidad directamente\n  const groupPaxNum = parseInt(groupPax, 10) || 0;\n  const availablePax = groupPaxNum - Number(assignedPaxTotal);\n  useEffect(() => {\n    console.log('groupPax:', groupPaxNum, 'assignedPaxTotal:', assignedPaxTotal, 'availablePax:', availablePax);\n  }, [groupPaxNum, assignedPaxTotal, availablePax]);\n\n  // Extraer el año de la fecha principal para usar en el formateo\n  const defaultYear = getYearFromDate(initialData.date);\n\n  // Cuando cambia initialData, actualizamos los estados correspondientes (sin reiniciar city y date)\n  useEffect(() => {\n    setCity(initialData.city || '');\n    setDate(formatDateForInput(initialData.date, defaultYear));\n    setPaxAssigned(initialData.paxAssigned || 0);\n    setAssignedPax(initialData.assigned_pax || 0);\n    // Reiniciamos los campos que deben limpiarse para agregar nueva asignación\n    setHotelId('');\n    setHotelsList([]);\n    // No reiniciamos checkIn y checkOut para conservar el valor calculado si ya existe\n    // setCheckIn('');\n    // setCheckOut('');\n    setRoomingList(false);\n    setProForma(false);\n    setCurrency('EUR');\n    setTotalToPay(0);\n    setPaymentDate('');\n    setPaymentDoneDate('');\n    setFactura(false);\n    setIga(false);\n    setComment('');\n    setValidationMsg('');\n    // Nota: No modificamos assignedPaxTotal aquí, se recibe de la prop.\n  }, [initialData, defaultYear]);\n\n  // Al abrir el modal, reiniciamos solo los campos editables que deben limpiarse, sin tocar city, date, checkIn, checkOut ni assignedPaxTotal\n  useEffect(() => {\n    if (show) {\n      console.log('Modal abierto. initialData:', initialData);\n\n      // Solo reiniciamos los campos editables y dejamos intactos \"city\" y \"date\"\n      setHotelId('');\n      setHotelsList([]);\n      // Si checkIn y checkOut ya tienen valor, los dejamos\n      if (!checkIn && date) {\n        const dt = new Date(date);\n        if (!isNaN(dt.getTime())) {\n          setCheckIn(date);\n          dt.setDate(dt.getDate() + 1);\n          const computed = dt.toISOString().split('T')[0];\n          setCheckOut(computed);\n          console.log('Modal: Calculado checkIn:', date, 'checkOut:', computed);\n        } else {\n          console.error(\"Invalid date:\", date);\n          setCheckIn('');\n          setCheckOut('');\n        }\n      }\n      setRoomingList(false);\n      setProForma(false);\n      setCurrency('EUR');\n      setTotalToPay(0);\n      setPaymentDate('');\n      setPaymentDoneDate('');\n      setFactura(false);\n      setIga(false);\n      setComment('');\n      setValidationMsg('');\n      // Forzamos recargar la lista de hoteles si \"city\" existe\n      if (city) {\n        fetch(`${process.env.REACT_APP_API_URL}/hotels/get_hotel_by_city?city=${encodeURIComponent(city)}`).then(res => res.json()).then(data => {\n          setHotelsList(data);\n          console.log('Recargados hoteles para', city, data);\n        }).catch(err => console.error('Error al obtener hoteles:', err));\n      }\n    }\n  }, [show, city, date, checkIn]);\n\n  // Cuando la fecha esté disponible, calcular checkIn y checkOut automáticamente\n  useEffect(() => {\n    if (date) {\n      const dt = new Date(date);\n      if (isNaN(dt.getTime())) {\n        console.error(\"Invalid date value:\", date);\n        setCheckOut('');\n        return;\n      }\n      setCheckIn(date);\n      dt.setDate(dt.getDate() + 1);\n      const computedCheckOut = dt.toISOString().split('T')[0];\n      setCheckOut(computedCheckOut);\n      console.log('Calculado checkIn:', date, 'checkOut:', computedCheckOut);\n    }\n  }, [date]);\n\n  // Al tener la ciudad y si el modal está abierto, obtenemos la lista de hoteles disponibles\n  useEffect(() => {\n    if (city && show) {\n      fetch(`${process.env.REACT_APP_API_URL}/hotels/get_hotel_by_city?city=${encodeURIComponent(city)}`).then(res => res.json()).then(data => {\n        setHotelsList(data);\n        console.log('Hoteles disponibles para', city, data);\n      }).catch(err => console.error('Error al obtener hoteles:', err));\n    }\n  }, [city, show]);\n\n  // Función para manejar el envío del formulario (guardado)\n  const handleSubmit = async e => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n    const paxVal = parseInt(paxAssigned, 10);\n    console.log('handleSubmit: paxAssigned:', paxAssigned, 'paxVal:', paxVal, 'availablePax:', availablePax);\n    if (paxVal === 0) {\n      setValidationMsg('El número de PAX asignados debe ser mayor que 0.');\n      return;\n    }\n    if (paxVal > availablePax) {\n      setValidationMsg(`El número de PAX asignados no puede superar los disponibles (${availablePax}).`);\n      return;\n    }\n    // Construir el payload\n    const payload = {\n      id_hotel: parseInt(hotelId, 10),\n      id_group: initialData.id_group || '',\n      id_day: initialData.id_day || '',\n      start_date: checkIn || null,\n      end_date: checkOut || null,\n      pax: paxVal,\n      currency,\n      total_to_pay: parseFloat(totalToPay),\n      comment,\n      rooming_list: roomingList,\n      pro_forma: proForma,\n      payment_date: paymentDate || null,\n      payment_done_date: paymentDoneDate || null,\n      payed_by: null,\n      factura,\n      iga,\n      updated_by: ''\n    };\n    console.log('Payload a enviar (add another):', payload);\n    return Promise.resolve(onSave(payload)).then(() => {\n      onHide();\n      return true;\n    }).catch(error => {\n      if (error && error.detail) {\n        setValidationMsg(error.detail);\n      } else {\n        setValidationMsg('Error al agregar la asignación.');\n      }\n      console.error('Error en onSave:', error);\n      return false;\n    });\n  };\n\n  // Función para manejar el clic en \"Agregar otro hotel para este día\"\n  const handleAddAnotherClick = async () => {\n    const saved = await handleSubmit(new Event('submit'));\n    const newPax = parseInt(assignedPax, 10) - parseInt(initialData.pax || 0, 10) + parseInt(paxAssigned, 10);\n    if (saved && onAddAnother) {\n      onAddAnother({\n        city,\n        date,\n        paxAssigned,\n        id_day: initialData.id_day || ''\n      });\n    }\n  };\n\n  // Carga de divisas (simulada)\n  const [allCurrencies, setAllCurrencies] = useState([]);\n  useEffect(() => {\n    const fetchCurrencies = async () => {\n      const currencies = ['EUR', 'USD', 'CHF', 'GBP', 'ARS', 'JPY', 'CNY', 'INR', 'BRL', 'CAD'];\n      setAllCurrencies(currencies);\n    };\n    fetchCurrencies();\n  }, []);\n  const favoriteCurrencies = ['EUR', 'USD', 'CHF', 'GBP'];\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: onHide,\n    centered: true,\n    size: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: e => {\n        e.preventDefault();\n        handleSubmit();\n      },\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Agregar otro hotel para este d\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCity\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Ciudad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                value: city,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formDate\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: date,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formHotel\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Hotel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n            value: hotelId,\n            onChange: e => setHotelId(e.target.value),\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Seleccione un hotel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this), hotelsList.map(hotel => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: hotel.id_hotel,\n              children: hotel.hotel_name\n            }, hotel.id_hotel, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCheckIn\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Check-in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: checkIn,\n                onChange: e => setCheckIn(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCheckOut\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Check-out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: checkOut,\n                onChange: e => setCheckOut(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formRoomingList\",\n              label: \"Rooming List Enviado\",\n              checked: roomingList,\n              onChange: e => setRoomingList(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formProForma\",\n              label: \"Pro Forma Enviado\",\n              checked: proForma,\n              onChange: e => setProForma(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCurrency\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Divisa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: currency,\n                onChange: e => setCurrency(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"optgroup\", {\n                  label: \"Favoritas\",\n                  children: favoriteCurrencies.map(favCurrency => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: favCurrency,\n                    children: favCurrency\n                  }, favCurrency, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                  label: \"Todas las divisas\",\n                  children: allCurrencies.filter(curr => !favoriteCurrencies.includes(curr)).map(curr => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: curr,\n                    children: curr\n                  }, curr, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formTotalToPay\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Total a Pagar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                value: totalToPay,\n                onChange: e => setTotalToPay(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formPAX\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"PAX Asignados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                value: paxAssigned,\n                onChange: e => setPaxAssigned(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                muted: true,\n                children: [\"Disponible para asignar: \", availablePax, \" (Total grupo: \", groupPax, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formPaymentDate\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Fecha de Pago\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: paymentDate,\n                onChange: e => setPaymentDate(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formPaymentDoneDate\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Fecha de Pago Realizado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: paymentDoneDate,\n                onChange: e => setPaymentDoneDate(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formFactura\",\n              label: \"Factura Emitida\",\n              checked: factura,\n              onChange: e => setFactura(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formIGA\",\n              label: \"IGA Gestionado\",\n              checked: iga,\n              onChange: e => setIga(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formComments\",\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Comentarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            rows: 3,\n            placeholder: \"Escribe un comentario para esta asignaci\\xF3n...\",\n            value: comment,\n            onChange: e => setComment(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this), validationMsg && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: validationMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: onHide,\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          disabled: parseInt(paxAssigned, 10) === 0 || parseInt(paxAssigned, 10) > availablePax,\n          children: \"Guardar Cambios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-primary\",\n          onClick: handleAddAnotherClick,\n          disabled: parseInt(paxAssigned, 10) === 0 || parseInt(paxAssigned, 10) >= availablePax,\n          children: \"Agregar otro hotel para este d\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 5\n  }, this);\n};\n_s(HotelAddAnotherModal, \"L1RjHUY1Ix0EpvyTMxJr9/N0sg4=\");\n_c = HotelAddAnotherModal;\nHotelAddAnotherModal.propTypes = {\n  show: PropTypes.bool.isRequired,\n  onHide: PropTypes.func.isRequired,\n  initialData: PropTypes.object,\n  onSave: PropTypes.func.isRequired,\n  groupPax: PropTypes.number.isRequired,\n  assignedPaxTotal: PropTypes.number,\n  onAddAnother: PropTypes.func\n};\nexport default HotelAddAnotherModal;\nvar _c;\n$RefreshReg$(_c, \"HotelAddAnotherModal\");","map":{"version":3,"names":["React","useState","useEffect","PropTypes","Modal","Button","Form","Row","Col","Alert","jsxDEV","_jsxDEV","getYearFromDate","dateStr","parts","includes","split","length","formatDateForInput","dateString","defaultYear","dateObj","Date","isNaN","getTime","toISOString","HotelAddAnotherModal","show","onHide","initialData","onSave","groupPax","assignedPaxTotal","onAddAnother","_s","city","setCity","date","setDate","hotelId","setHotelId","hotelsList","setHotelsList","checkIn","setCheckIn","checkOut","setCheckOut","roomingList","setRoomingList","proForma","setProForma","currency","setCurrency","totalToPay","setTotalToPay","paymentDate","setPaymentDate","paymentDoneDate","setPaymentDoneDate","factura","setFactura","iga","setIga","paxAssigned","setPaxAssigned","comment","setComment","validationMsg","setValidationMsg","assignedPax","setAssignedPax","assigned_pax","groupPaxNum","parseInt","availablePax","Number","console","log","dt","getDate","computed","error","fetch","process","env","REACT_APP_API_URL","encodeURIComponent","then","res","json","data","catch","err","computedCheckOut","handleSubmit","e","preventDefault","paxVal","payload","id_hotel","id_group","id_day","start_date","end_date","pax","total_to_pay","parseFloat","rooming_list","pro_forma","payment_date","payment_done_date","payed_by","updated_by","Promise","resolve","detail","handleAddAnotherClick","saved","Event","newPax","allCurrencies","setAllCurrencies","fetchCurrencies","currencies","favoriteCurrencies","centered","size","children","onSubmit","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","className","md","Group","controlId","Label","Control","type","value","readOnly","Select","onChange","target","required","map","hotel","hotel_name","Check","id","label","checked","favCurrency","filter","curr","Text","muted","as","rows","placeholder","variant","Footer","onClick","disabled","_c","propTypes","bool","isRequired","func","object","number","$RefreshReg$"],"sources":["C:/Users/Bautista/Documents/Proyectos/bayTours/bayTours/frontend_2.0/baytours-react/src/components/GroupDetail/modals/HotelAddAnotherModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Button, Form, Row, Col, Alert } from 'react-bootstrap';\r\n\r\n/**\r\n * Extrae el año de una fecha en formato \"DD/MM/YYYY\" o \"DD-MM-YYYY\".\r\n */\r\nconst getYearFromDate = (dateStr) => {\r\n  if (!dateStr) return '';\r\n  const parts = dateStr.includes('/') ? dateStr.split('/') : dateStr.split('-');\r\n  return parts.length === 3 ? parts[2] : '';\r\n};\r\n\r\n/**\r\n * Función auxiliar para formatear una fecha al formato \"YYYY-MM-DD\".\r\n * Soporta:\r\n * - \"DD/MM/YYYY\" o \"DD-MM-YYYY\"\r\n * - \"DD/MM\" o \"DD-MM\", usando defaultYear si se proporciona.\r\n * - Cadenas en formato ISO u otro, usando Date.\r\n */\r\nconst formatDateForInput = (dateString, defaultYear = '') => {\r\n  if (!dateString) return '';\r\n  \r\n  if (dateString.includes('/')) {\r\n    const parts = dateString.split('/');\r\n    if (parts.length === 3) {\r\n      return `${parts[2]}-${parts[1]}-${parts[0]}`;\r\n    }\r\n    if (parts.length === 2 && defaultYear) {\r\n      return `${defaultYear}-${parts[1]}-${parts[0]}`;\r\n    }\r\n  }\r\n  if (dateString.includes('-')) {\r\n    const parts = dateString.split('-');\r\n    if (parts.length === 3 && parts[0].length === 2) {\r\n      return `${parts[2]}-${parts[1]}-${parts[0]}`;\r\n    }\r\n    if (parts.length === 2 && defaultYear) {\r\n      return `${defaultYear}-${parts[1]}-${parts[0]}`;\r\n    }\r\n  }\r\n  const dateObj = new Date(dateString);\r\n  if (isNaN(dateObj.getTime())) return '';\r\n  return dateObj.toISOString().split('T')[0];\r\n};\r\n\r\n/**\r\n * HotelAddAnotherModal permite agregar una nueva asignación de hotel para el mismo día.\r\n *\r\n * Props:\r\n * - show: Booleano que indica si el modal se muestra.\r\n * - onHide: Callback para ocultar el modal.\r\n * - initialData: Objeto que debe contener al menos { city, date, id_group, paxAssigned }.\r\n *                (La ciudad, fecha y PAX asignados se muestran en solo lectura.)\r\n * - onSave: Callback que recibe el payload con los datos ingresados; debe retornar una promesa.\r\n * - groupPax: Número total de pasajeros del grupo (para validar el número de PAX asignados).\r\n * - assignedPaxTotal: Número total de PAX ya asignados (según el backend).\r\n * - onAddAnother: Callback para iniciar el flujo de agregar otro hotel.\r\n */\r\nconst HotelAddAnotherModal = ({\r\n  show,\r\n  onHide,\r\n  initialData = {},\r\n  onSave,\r\n  groupPax,\r\n  assignedPaxTotal = 0,\r\n  onAddAnother,\r\n}) => {\r\n  // Estados para los campos editables y mostrados\r\n  const [city, setCity] = useState('');\r\n  const [date, setDate] = useState('');\r\n  const [hotelId, setHotelId] = useState('');\r\n  const [hotelsList, setHotelsList] = useState([]);\r\n  const [checkIn, setCheckIn] = useState('');\r\n  const [checkOut, setCheckOut] = useState('');\r\n  const [roomingList, setRoomingList] = useState(false);\r\n  const [proForma, setProForma] = useState(false);\r\n  const [currency, setCurrency] = useState('EUR');\r\n  const [totalToPay, setTotalToPay] = useState(0);\r\n  const [paymentDate, setPaymentDate] = useState('');\r\n  const [paymentDoneDate, setPaymentDoneDate] = useState('');\r\n  const [factura, setFactura] = useState(false);\r\n  const [iga, setIga] = useState(false);\r\n  const [paxAssigned, setPaxAssigned] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n  const [validationMsg, setValidationMsg] = useState('');\r\n  const [assignedPax, setAssignedPax] = useState(initialData.assigned_pax || 0);\r\n\r\n  // No usamos localAssignedPax; en su lugar, calculamos la disponibilidad directamente\r\n  const groupPaxNum = parseInt(groupPax, 10) || 0;\r\n  const availablePax = groupPaxNum - Number(assignedPaxTotal);\r\n  useEffect(() => {\r\n    console.log('groupPax:', groupPaxNum, 'assignedPaxTotal:', assignedPaxTotal, 'availablePax:', availablePax);\r\n  }, [groupPaxNum, assignedPaxTotal, availablePax]);\r\n\r\n  // Extraer el año de la fecha principal para usar en el formateo\r\n  const defaultYear = getYearFromDate(initialData.date);\r\n\r\n  // Cuando cambia initialData, actualizamos los estados correspondientes (sin reiniciar city y date)\r\n  useEffect(() => {\r\n    setCity(initialData.city || '');\r\n    setDate(formatDateForInput(initialData.date, defaultYear));\r\n    setPaxAssigned(initialData.paxAssigned || 0);\r\n    setAssignedPax(initialData.assigned_pax || 0);\r\n    // Reiniciamos los campos que deben limpiarse para agregar nueva asignación\r\n    setHotelId('');\r\n    setHotelsList([]);\r\n    // No reiniciamos checkIn y checkOut para conservar el valor calculado si ya existe\r\n    // setCheckIn('');\r\n    // setCheckOut('');\r\n    setRoomingList(false);\r\n    setProForma(false);\r\n    setCurrency('EUR');\r\n    setTotalToPay(0);\r\n    setPaymentDate('');\r\n    setPaymentDoneDate('');\r\n    setFactura(false);\r\n    setIga(false);\r\n    setComment('');\r\n    setValidationMsg('');\r\n    // Nota: No modificamos assignedPaxTotal aquí, se recibe de la prop.\r\n  }, [initialData, defaultYear]);\r\n\r\n  // Al abrir el modal, reiniciamos solo los campos editables que deben limpiarse, sin tocar city, date, checkIn, checkOut ni assignedPaxTotal\r\n  useEffect(() => {\r\n    if (show) {\r\n      console.log('Modal abierto. initialData:', initialData);\r\n\r\n      // Solo reiniciamos los campos editables y dejamos intactos \"city\" y \"date\"\r\n      setHotelId('');\r\n      setHotelsList([]);\r\n      // Si checkIn y checkOut ya tienen valor, los dejamos\r\n      if (!checkIn && date) {\r\n        const dt = new Date(date);\r\n        if (!isNaN(dt.getTime())) {\r\n          setCheckIn(date);\r\n          dt.setDate(dt.getDate() + 1);\r\n          const computed = dt.toISOString().split('T')[0];\r\n          setCheckOut(computed);\r\n          console.log('Modal: Calculado checkIn:', date, 'checkOut:', computed);\r\n        } else {\r\n          console.error(\"Invalid date:\", date);\r\n          setCheckIn('');\r\n          setCheckOut('');\r\n        }\r\n      }\r\n      setRoomingList(false);\r\n      setProForma(false);\r\n      setCurrency('EUR');\r\n      setTotalToPay(0);\r\n      setPaymentDate('');\r\n      setPaymentDoneDate('');\r\n      setFactura(false);\r\n      setIga(false);\r\n      setComment('');\r\n      setValidationMsg('');\r\n      // Forzamos recargar la lista de hoteles si \"city\" existe\r\n      if (city) {\r\n        fetch(`${process.env.REACT_APP_API_URL}/hotels/get_hotel_by_city?city=${encodeURIComponent(city)}`)\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            setHotelsList(data);\r\n            console.log('Recargados hoteles para', city, data);\r\n          })\r\n          .catch((err) => console.error('Error al obtener hoteles:', err));\r\n      }\r\n    }\r\n  }, [show, city, date, checkIn]);\r\n\r\n  // Cuando la fecha esté disponible, calcular checkIn y checkOut automáticamente\r\n  useEffect(() => {\r\n    if (date) {\r\n      const dt = new Date(date);\r\n      if (isNaN(dt.getTime())) {\r\n        console.error(\"Invalid date value:\", date);\r\n        setCheckOut('');\r\n        return;\r\n      }\r\n      setCheckIn(date);\r\n      dt.setDate(dt.getDate() + 1);\r\n      const computedCheckOut = dt.toISOString().split('T')[0];\r\n      setCheckOut(computedCheckOut);\r\n      console.log('Calculado checkIn:', date, 'checkOut:', computedCheckOut);\r\n    }\r\n  }, [date]);\r\n\r\n  // Al tener la ciudad y si el modal está abierto, obtenemos la lista de hoteles disponibles\r\n  useEffect(() => {\r\n    if (city && show) {\r\n      fetch(`${process.env.REACT_APP_API_URL}/hotels/get_hotel_by_city?city=${encodeURIComponent(city)}`)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setHotelsList(data);\r\n          console.log('Hoteles disponibles para', city, data);\r\n        })\r\n        .catch((err) => console.error('Error al obtener hoteles:', err));\r\n    }\r\n  }, [city, show]);\r\n\r\n  // Función para manejar el envío del formulario (guardado)\r\n  const handleSubmit = async (e) => {\r\n    if (e && e.preventDefault) {\r\n      e.preventDefault();\r\n    }\r\n    const paxVal = parseInt(paxAssigned, 10);\r\n    console.log('handleSubmit: paxAssigned:', paxAssigned, 'paxVal:', paxVal, 'availablePax:', availablePax);\r\n    if (paxVal === 0) {\r\n      setValidationMsg('El número de PAX asignados debe ser mayor que 0.');\r\n      return;\r\n    }\r\n    if (paxVal > availablePax) {\r\n      setValidationMsg(`El número de PAX asignados no puede superar los disponibles (${availablePax}).`);\r\n      return;\r\n    }\r\n    // Construir el payload\r\n    const payload = {\r\n      id_hotel: parseInt(hotelId, 10),\r\n      id_group: initialData.id_group || '',\r\n      id_day: initialData.id_day || '',\r\n      start_date: checkIn || null,\r\n      end_date: checkOut || null,\r\n      pax: paxVal,\r\n      currency,\r\n      total_to_pay: parseFloat(totalToPay),\r\n      comment,\r\n      rooming_list: roomingList,\r\n      pro_forma: proForma,\r\n      payment_date: paymentDate || null,\r\n      payment_done_date: paymentDoneDate || null,\r\n      payed_by: null,\r\n      factura,\r\n      iga,\r\n      updated_by: '',\r\n    };\r\n    console.log('Payload a enviar (add another):', payload);\r\n    return Promise.resolve(onSave(payload))\r\n      .then(() => {\r\n        onHide();\r\n        return true;\r\n      })\r\n      .catch((error) => {\r\n        if (error && error.detail) {\r\n          setValidationMsg(error.detail);\r\n        } else {\r\n          setValidationMsg('Error al agregar la asignación.');\r\n        }\r\n        console.error('Error en onSave:', error);\r\n        return false;\r\n      });\r\n  };\r\n  \r\n  // Función para manejar el clic en \"Agregar otro hotel para este día\"\r\n  const handleAddAnotherClick = async () => {\r\n      const saved = await handleSubmit(new Event('submit'));\r\n      const newPax = parseInt(assignedPax, 10) - parseInt(initialData.pax || 0, 10) + parseInt(paxAssigned, 10);\r\n      if (saved && onAddAnother) {\r\n        onAddAnother({\r\n          city,\r\n          date,\r\n          paxAssigned,\r\n          id_day: initialData.id_day || '',\r\n        });\r\n      }\r\n    };\r\n  \r\n\r\n  // Carga de divisas (simulada)\r\n  const [allCurrencies, setAllCurrencies] = useState([]);\r\n  useEffect(() => {\r\n    const fetchCurrencies = async () => {\r\n      const currencies = ['EUR', 'USD', 'CHF', 'GBP', 'ARS', 'JPY', 'CNY', 'INR', 'BRL', 'CAD'];\r\n      setAllCurrencies(currencies);\r\n    };\r\n    fetchCurrencies();\r\n  }, []);\r\n  const favoriteCurrencies = ['EUR', 'USD', 'CHF', 'GBP'];\r\n\r\n  return (\r\n    <Modal show={show} onHide={onHide} centered size=\"lg\">\r\n      <Form onSubmit={(e) => { e.preventDefault(); handleSubmit(); }}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Agregar otro hotel para este día</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {/* Row 1: Ciudad y Fecha (solo lectura) */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formCity\">\r\n                <Form.Label>Ciudad</Form.Label>\r\n                <Form.Control type=\"text\" value={city} readOnly />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formDate\">\r\n                <Form.Label>Fecha</Form.Label>\r\n                <Form.Control type=\"date\" value={date} readOnly />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Row 2: Selección de Hotel */}\r\n          <Form.Group controlId=\"formHotel\">\r\n            <Form.Label>Hotel</Form.Label>\r\n            <Form.Select value={hotelId} onChange={(e) => setHotelId(e.target.value)} required>\r\n              <option value=\"\">Seleccione un hotel</option>\r\n              {hotelsList.map((hotel) => (\r\n                <option key={hotel.id_hotel} value={hotel.id_hotel}>\r\n                  {hotel.hotel_name}\r\n                </option>\r\n              ))}\r\n            </Form.Select>\r\n          </Form.Group>\r\n          {/* Row 3: Check-in y Check-out */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formCheckIn\">\r\n                <Form.Label>Check-in</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={checkIn}\r\n                  onChange={(e) => setCheckIn(e.target.value)}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formCheckOut\">\r\n                <Form.Label>Check-out</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={checkOut}\r\n                  onChange={(e) => setCheckOut(e.target.value)}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Row 4: Switches para Rooming List y Pro Forma */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={4}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formRoomingList\"\r\n                label=\"Rooming List Enviado\"\r\n                checked={roomingList}\r\n                onChange={(e) => setRoomingList(e.target.checked)}\r\n              />\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formProForma\"\r\n                label=\"Pro Forma Enviado\"\r\n                checked={proForma}\r\n                onChange={(e) => setProForma(e.target.checked)}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          {/* Row 5: Moneda, Total a Pagar y PAX Asignados */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={4}>\r\n              <Form.Group controlId=\"formCurrency\">\r\n                <Form.Label>Divisa</Form.Label>\r\n                <Form.Select value={currency} onChange={(e) => setCurrency(e.target.value)}>\r\n                  <optgroup label=\"Favoritas\">\r\n                    {favoriteCurrencies.map((favCurrency) => (\r\n                      <option key={favCurrency} value={favCurrency}>\r\n                        {favCurrency}\r\n                      </option>\r\n                    ))}\r\n                  </optgroup>\r\n                  <optgroup label=\"Todas las divisas\">\r\n                    {allCurrencies\r\n                      .filter((curr) => !favoriteCurrencies.includes(curr))\r\n                      .map((curr) => (\r\n                        <option key={curr} value={curr}>\r\n                          {curr}\r\n                        </option>\r\n                      ))}\r\n                  </optgroup>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group controlId=\"formTotalToPay\">\r\n                <Form.Label>Total a Pagar</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={totalToPay}\r\n                  onChange={(e) => setTotalToPay(e.target.value)}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group controlId=\"formPAX\">\r\n                <Form.Label>PAX Asignados</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={paxAssigned}\r\n                  onChange={(e) => setPaxAssigned(e.target.value)}\r\n                  required\r\n                />\r\n                <Form.Text muted>\r\n                  Disponible para asignar: {availablePax} (Total grupo: {groupPax})\r\n                </Form.Text>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Row 6: Fechas de Pago */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formPaymentDate\">\r\n                <Form.Label>Fecha de Pago</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={paymentDate}\r\n                  onChange={(e) => setPaymentDate(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formPaymentDoneDate\">\r\n                <Form.Label>Fecha de Pago Realizado</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={paymentDoneDate}\r\n                  onChange={(e) => setPaymentDoneDate(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Row 7: Factura e IGA */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formFactura\"\r\n                label=\"Factura Emitida\"\r\n                checked={factura}\r\n                onChange={(e) => setFactura(e.target.checked)}\r\n              />\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formIGA\"\r\n                label=\"IGA Gestionado\"\r\n                checked={iga}\r\n                onChange={(e) => setIga(e.target.checked)}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          {/* Row 8: Comentarios */}\r\n          <Form.Group controlId=\"formComments\" className=\"mb-3\">\r\n            <Form.Label>Comentarios</Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              rows={3}\r\n              placeholder=\"Escribe un comentario para esta asignación...\"\r\n              value={comment}\r\n              onChange={(e) => setComment(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          {validationMsg && <Alert variant=\"danger\">{validationMsg}</Alert>}\r\n        </Modal.Body>\r\n        <Modal.Footer className=\"d-flex justify-content-between\">\r\n          <Button variant=\"secondary\" onClick={onHide}>\r\n            Cancelar\r\n          </Button>\r\n          <Button\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n            disabled={parseInt(paxAssigned, 10) === 0 || parseInt(paxAssigned, 10) > availablePax}\r\n          >\r\n            Guardar Cambios\r\n          </Button>\r\n          <Button\r\n            variant=\"outline-primary\"\r\n            onClick={handleAddAnotherClick}\r\n            disabled={parseInt(paxAssigned, 10) === 0 || parseInt(paxAssigned, 10) >= availablePax}\r\n          >\r\n            Agregar otro hotel para este día\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nHotelAddAnotherModal.propTypes = {\r\n  show: PropTypes.bool.isRequired,\r\n  onHide: PropTypes.func.isRequired,\r\n  initialData: PropTypes.object,\r\n  onSave: PropTypes.func.isRequired,\r\n  groupPax: PropTypes.number.isRequired,\r\n  assignedPaxTotal: PropTypes.number,\r\n  onAddAnother: PropTypes.func,\r\n};\r\n\r\nexport default HotelAddAnotherModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}