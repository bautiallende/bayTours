{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bautista\\\\Documents\\\\Proyectos\\\\bayTours\\\\bayTours\\\\frontend_2.0\\\\baytours-react\\\\src\\\\components\\\\GroupDetail\\\\modals\\\\HotelModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Button, Form, Row, Col, Alert } from 'react-bootstrap';\n\n/**\r\n * Función auxiliar para formatear una fecha al formato \"YYYY-MM-DD\".\r\n * Soporta:\r\n * - \"DD/MM/YYYY\" o \"DD-MM-YYYY\"\r\n * - \"DD/MM\" o \"DD-MM\", en cuyo caso se usará defaultYear si se proporciona.\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatDateForInput = (dateString, defaultYear = '') => {\n  if (!dateString) return '';\n\n  // Si la cadena contiene \"/\", asumimos formato \"DD/MM/YYYY\" o \"DD/MM\"\n  if (dateString.includes('/')) {\n    const parts = dateString.split('/');\n    if (parts.length === 3) {\n      return `${parts[2]}-${parts[1]}-${parts[0]}`;\n    }\n    if (parts.length === 2 && defaultYear) {\n      return `${defaultYear}-${parts[1]}-${parts[0]}`;\n    }\n  }\n\n  // Si la cadena contiene \"-\", asumimos formato \"DD-MM-YYYY\" o \"DD-MM\"\n  const partsDash = dateString.split('-');\n  if (partsDash.length === 3 && partsDash[0].length === 2) {\n    return `${partsDash[2]}-${partsDash[1]}-${partsDash[0]}`;\n  }\n  if (partsDash.length === 2 && defaultYear) {\n    return `${defaultYear}-${partsDash[1]}-${partsDash[0]}`;\n  }\n\n  // Por defecto, intenta convertir usando Date\n  const dateObj = new Date(dateString);\n  if (isNaN(dateObj.getTime())) return '';\n  return dateObj.toISOString().split('T')[0];\n};\n\n/**\r\n * Extrae el año de una fecha en formato \"DD/MM/YYYY\" o \"DD-MM-YYYY\".\r\n */\nconst getYearFromDate = dateStr => {\n  if (!dateStr) return '';\n  const parts = dateStr.includes('/') ? dateStr.split('/') : dateStr.split('-');\n  return parts.length === 3 ? parts[2] : '';\n};\n\n/**\r\n * HotelModal permite agregar o editar una asignación de hotel.\r\n *\r\n * Props:\r\n * - show: Booleano para mostrar/ocultar el modal.\r\n * - onHide: Callback para ocultar el modal.\r\n * - initialData: Objeto con los datos iniciales de la asignación. En edición debe contener \"assignment_id\".\r\n * - onSave: Callback que se invoca con el payload cuando se envía el formulario.\r\n * - onAddAnother: Callback para iniciar el flujo de agregar otra asignación para el mismo día.\r\n * - groupPax: Número total de pasajeros del grupo (para validación).\r\n */\nconst HotelModal = ({\n  show,\n  onHide,\n  initialData = {},\n  onSave,\n  onAddAnother,\n  groupPax\n}) => {\n  _s();\n  // Determina si estamos en modo edición (se asume que en edición initialData.assignment_id existe)\n  const isEditing = Boolean(initialData.assignment_id);\n\n  // Extraemos el año de la fecha principal para usarlo como valor por defecto en fechas incompletas\n  const defaultYear = getYearFromDate(initialData.date);\n\n  // Estados para los campos de la asignación\n  const [city, setCity] = useState(initialData.city || '');\n  const [id_day, setIdDay] = useState(initialData.id_day || '');\n  const [assignedPax, setAssignedPax] = useState(initialData.assigned_pax || 0);\n  const [date, setDate] = useState(formatDateForInput(initialData.date, defaultYear));\n  const [hotelId, setHotelId] = useState(initialData.id_hotel || '');\n  const [hotelsList, setHotelsList] = useState([]);\n  const [checkIn, setCheckIn] = useState(initialData.check_in ? formatDateForInput(initialData.check_in, defaultYear) : '');\n  const [checkOut, setCheckOut] = useState(initialData.check_out ? formatDateForInput(initialData.check_out, defaultYear) : '');\n  const [roomingList, setRoomingList] = useState(typeof initialData.rooming_list === 'boolean' ? initialData.rooming_list : false);\n  const [proForma, setProForma] = useState(typeof initialData.pro_forma === 'boolean' ? initialData.pro_forma : false);\n  const [currency, setCurrency] = useState(initialData.currency || 'EUR');\n  const [totalToPay, setTotalToPay] = useState(initialData.total_to_pay != null ? initialData.total_to_pay : 0);\n  const [paymentDate, setPaymentDate] = useState(initialData.payment_date ? formatDateForInput(initialData.payment_date, defaultYear) : '');\n  const [paymentDoneDate, setPaymentDoneDate] = useState(formatDateForInput(initialData.payment_done_date, defaultYear));\n  const [factura, setFactura] = useState(typeof initialData.factura === 'boolean' ? initialData.factura : false);\n  const [iga, setIga] = useState(typeof initialData.iga === 'boolean' ? initialData.iga : false);\n  const [paxAssigned, setPaxAssigned] = useState(initialData.pax || 0);\n  const [comment, setComment] = useState('');\n  const [validationMsg, setValidationMsg] = useState('');\n\n  // Calcula la cantidad máxima de PAX disponibles para esta asignación.\n  // En modo edición: available = groupPax - (assignedPax - initialData.pax)\n  // En modo agregar: available = groupPax.\n  const availableForEditing = isEditing ? parseInt(groupPax, 10) - (parseInt(assignedPax, 10) - parseInt(initialData.pax || 0, 10)) : parseInt(groupPax, 10);\n\n  // Validación en tiempo real para PAX: si el valor ingresado excede el máximo, se muestra un mensaje.\n  useEffect(() => {\n    const paxVal = parseInt(paxAssigned, 10);\n    if (paxVal > availableForEditing) {\n      setValidationMsg(`El número de PAX asignados no puede superar los disponibles (${availableForEditing}).`);\n    } else {\n      setValidationMsg('');\n    }\n  }, [paxAssigned, availableForEditing]);\n\n  // Actualiza los estados cuando initialData cambia\n  useEffect(() => {\n    setCity(initialData.city || '');\n    setDate(formatDateForInput(initialData.date, defaultYear));\n    setHotelId(initialData.id_hotel || '');\n    setIdDay(initialData.id_day || '');\n    setAssignedPax(initialData.assigned_pax || 0);\n    if (initialData.city) {\n      fetch(`${process.env.REACT_APP_API_URL}/hotels/get_hotel_by_city?city=${encodeURIComponent(initialData.city)}`).then(res => res.json()).then(data => setHotelsList(data)).catch(err => console.error('Error al obtener hoteles:', err));\n    }\n    setCheckIn(initialData.check_in ? formatDateForInput(initialData.check_in, defaultYear) : '');\n    setCheckOut(initialData.check_out ? formatDateForInput(initialData.check_out, defaultYear) : '');\n    setPaxAssigned(initialData.pax || 0);\n    setRoomingList(typeof initialData.rooming_list === 'boolean' ? initialData.rooming_list : false);\n    setProForma(typeof initialData.pro_forma === 'boolean' ? initialData.pro_forma : false);\n    setCurrency(initialData.currency || 'EUR');\n    setTotalToPay(initialData.total_to_pay != null ? initialData.total_to_pay : 0);\n    setPaymentDate(initialData.payment_date ? formatDateForInput(initialData.payment_date, defaultYear) : '');\n    setPaymentDoneDate(formatDateForInput(initialData.payment_done_date, defaultYear));\n    setFactura(typeof initialData.factura === 'boolean' ? initialData.factura : false);\n    setIga(typeof initialData.iga === 'boolean' ? initialData.iga : false);\n    setComment('');\n    setValidationMsg('');\n  }, [initialData, defaultYear]);\n\n  // Si no hay valor para check-in, se calcula automáticamente a partir de la fecha\n  useEffect(() => {\n    if (date && (!initialData.check_in || initialData.check_in === '')) {\n      setCheckIn(date);\n      const dt = new Date(date);\n      dt.setDate(dt.getDate() + 1);\n      setCheckOut(dt.toISOString().split('T')[0]);\n    }\n  }, [date, initialData.check_in]);\n\n  // Maneja el envío del formulario\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const paxVal = parseInt(paxAssigned, 10);\n    if (paxVal === 0) {\n      setValidationMsg('El número de PAX asignados debe ser mayor que 0.');\n      return;\n    }\n    if (paxVal > availableForEditing) {\n      setValidationMsg(`El número de PAX asignados no puede superar los disponibles para esta asignación (${availableForEditing}).`);\n      return;\n    }\n    const payload = {\n      id: initialData.assignment_id || '',\n      id_hotel: parseInt(hotelId, 10),\n      id_group: initialData.id_group || '',\n      start_date: checkIn,\n      end_date: checkOut,\n      pax: paxVal,\n      currency,\n      total_to_pay: parseFloat(totalToPay),\n      comment,\n      rooming_list: roomingList,\n      pro_forma: proForma,\n      payment_date: paymentDate || null,\n      payment_done_date: paymentDoneDate || null,\n      payed_by: null,\n      factura,\n      iga\n    };\n    try {\n      await onSave(payload);\n      onHide();\n      return true;\n    } catch (error) {\n      // Si el backend retorna un error, lo mostramos en el modal\n      if (error && error.detail) {\n        setValidationMsg(error.detail);\n      } else {\n        setValidationMsg('Error al guardar la asignación.');\n      }\n      console.error('Error en onSave:', error);\n      return false;\n    }\n  };\n\n  // Maneja el clic en \"Agregar otro hotel para este día\"\n  const handleAddAnotherClick = async () => {\n    const saved = await handleSubmit(new Event('submit'));\n    const newPax = parseInt(assignedPax, 10) - parseInt(initialData.pax || 0, 10) + parseInt(paxAssigned, 10);\n    if (saved && onAddAnother) {\n      onAddAnother({\n        city,\n        date,\n        new_pax: newPax,\n        id_day\n      });\n    }\n  };\n\n  // Carga de divisas (simulada)\n  const [allCurrencies, setAllCurrencies] = useState([]);\n  useEffect(() => {\n    const fetchCurrencies = async () => {\n      const currencies = ['EUR', 'USD', 'CHF', 'GBP', 'ARS', 'JPY', 'CNY', 'INR', 'BRL', 'CAD'];\n      setAllCurrencies(currencies);\n    };\n    fetchCurrencies();\n  }, []);\n  const favoriteCurrencies = ['EUR', 'USD', 'CHF', 'GBP'];\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: onHide,\n    centered: true,\n    size: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: initialData.assignment_id ? 'Editar Asignación de Hotel' : 'Agregar Asignación de Hotel'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCity\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Ciudad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                value: city,\n                readOnly: true,\n                \"aria-label\": \"Ciudad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formDate\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: date,\n                readOnly: true,\n                \"aria-label\": \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formHotel\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Hotel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n            value: hotelId,\n            onChange: e => setHotelId(e.target.value),\n            required: true,\n            \"aria-label\": \"Seleccionar Hotel\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Seleccione un hotel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), hotelsList.map(hotel => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: hotel.id_hotel,\n              children: hotel.hotel_name\n            }, hotel.id_hotel, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCheckIn\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Check-in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: checkIn,\n                onChange: e => setCheckIn(e.target.value),\n                required: true,\n                \"aria-label\": \"Fecha de Check-in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCheckOut\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Check-out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: checkOut,\n                onChange: e => setCheckOut(e.target.value),\n                required: true,\n                \"aria-label\": \"Fecha de Check-out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formRoomingList\",\n              label: \"Rooming List Enviado\",\n              checked: roomingList,\n              onChange: e => setRoomingList(e.target.checked),\n              \"aria-label\": \"Activar Rooming List Enviado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formProForma\",\n              label: \"Pro Forma Enviado\",\n              checked: proForma,\n              onChange: e => setProForma(e.target.checked),\n              \"aria-label\": \"Activar Pro Forma Enviado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formCurrency\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Divisa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                value: currency,\n                onChange: e => setCurrency(e.target.value),\n                \"aria-label\": \"Seleccionar Divisa\",\n                children: [/*#__PURE__*/_jsxDEV(\"optgroup\", {\n                  label: \"Favoritas\",\n                  children: favoriteCurrencies.map(favCurrency => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: favCurrency,\n                    children: favCurrency\n                  }, favCurrency, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                  label: \"Todas las divisas\",\n                  children: allCurrencies.filter(curr => !favoriteCurrencies.includes(curr)).map(curr => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: curr,\n                    children: curr\n                  }, curr, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formTotalToPay\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Total a Pagar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                value: totalToPay,\n                onChange: e => setTotalToPay(e.target.value),\n                required: true,\n                \"aria-label\": \"Total a Pagar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formPAX\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"PAX Asignados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                value: paxAssigned,\n                onChange: e => setPaxAssigned(e.target.value),\n                required: true,\n                \"aria-label\": \"PAX Asignados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                muted: true,\n                children: [\"Disponible para esta asignaci\\xF3n: \", availableForEditing, \" (Total grupo: \", groupPax, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formPaymentDate\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Fecha A Pagar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: paymentDate,\n                onChange: e => setPaymentDate(e.target.value),\n                \"aria-label\": \"Fecha A Pagar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formPaymentDoneDate\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Fecha de Pago Realizado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                value: paymentDoneDate,\n                onChange: e => setPaymentDoneDate(e.target.value),\n                \"aria-label\": \"Fecha de Pago Realizado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formFactura\",\n              label: \"Factura Emitida\",\n              checked: factura,\n              onChange: e => setFactura(e.target.checked),\n              \"aria-label\": \"Activar Factura Emitida\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"switch\",\n              id: \"formIGA\",\n              label: \"IGA Gestionado\",\n              checked: iga,\n              onChange: e => setIga(e.target.checked),\n              \"aria-label\": \"Activar IGA Gestionado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"formNotes\",\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Comentarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            rows: 3,\n            placeholder: \"Escribe un nuevo comentario. Los anteriores quedar\\xE1n registrados.\",\n            value: comment,\n            onChange: e => setComment(e.target.value),\n            \"aria-label\": \"Comentarios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this), validationMsg && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"danger\",\n          children: validationMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: onHide,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            className: \"ms-2\",\n            disabled: parseInt(paxAssigned, 10) === 0 || parseInt(paxAssigned, 10) > availableForEditing,\n            children: \"Guardar Cambios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-primary\",\n          onClick: handleAddAnotherClick,\n          disabled: parseInt(paxAssigned, 10) === 0 || parseInt(paxAssigned, 10) >= availableForEditing,\n          children: \"Agregar otro hotel para este d\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 240,\n    columnNumber: 5\n  }, this);\n};\n_s(HotelModal, \"Lu+JdbAfIYMMXn+TajPUCSjZ48U=\");\n_c = HotelModal;\nHotelModal.propTypes = {\n  show: PropTypes.bool.isRequired,\n  onHide: PropTypes.func.isRequired,\n  initialData: PropTypes.object,\n  onSave: PropTypes.func.isRequired,\n  onAddAnother: PropTypes.func,\n  groupPax: PropTypes.number.isRequired\n};\nexport default HotelModal;\nvar _c;\n$RefreshReg$(_c, \"HotelModal\");","map":{"version":3,"names":["React","useState","useEffect","PropTypes","Modal","Button","Form","Row","Col","Alert","jsxDEV","_jsxDEV","formatDateForInput","dateString","defaultYear","includes","parts","split","length","partsDash","dateObj","Date","isNaN","getTime","toISOString","getYearFromDate","dateStr","HotelModal","show","onHide","initialData","onSave","onAddAnother","groupPax","_s","isEditing","Boolean","assignment_id","date","city","setCity","id_day","setIdDay","assignedPax","setAssignedPax","assigned_pax","setDate","hotelId","setHotelId","id_hotel","hotelsList","setHotelsList","checkIn","setCheckIn","check_in","checkOut","setCheckOut","check_out","roomingList","setRoomingList","rooming_list","proForma","setProForma","pro_forma","currency","setCurrency","totalToPay","setTotalToPay","total_to_pay","paymentDate","setPaymentDate","payment_date","paymentDoneDate","setPaymentDoneDate","payment_done_date","factura","setFactura","iga","setIga","paxAssigned","setPaxAssigned","pax","comment","setComment","validationMsg","setValidationMsg","availableForEditing","parseInt","paxVal","fetch","process","env","REACT_APP_API_URL","encodeURIComponent","then","res","json","data","catch","err","console","error","dt","getDate","handleSubmit","e","preventDefault","payload","id","id_group","start_date","end_date","parseFloat","payed_by","detail","handleAddAnotherClick","saved","Event","newPax","new_pax","allCurrencies","setAllCurrencies","fetchCurrencies","currencies","favoriteCurrencies","centered","size","children","onSubmit","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","className","md","Group","controlId","Label","Control","type","value","readOnly","Select","onChange","target","required","map","hotel","hotel_name","Check","label","checked","favCurrency","filter","curr","Text","muted","as","rows","placeholder","variant","Footer","onClick","disabled","_c","propTypes","bool","isRequired","func","object","number","$RefreshReg$"],"sources":["C:/Users/Bautista/Documents/Proyectos/bayTours/bayTours/frontend_2.0/baytours-react/src/components/GroupDetail/modals/HotelModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Button, Form, Row, Col, Alert } from 'react-bootstrap';\r\n\r\n/**\r\n * Función auxiliar para formatear una fecha al formato \"YYYY-MM-DD\".\r\n * Soporta:\r\n * - \"DD/MM/YYYY\" o \"DD-MM-YYYY\"\r\n * - \"DD/MM\" o \"DD-MM\", en cuyo caso se usará defaultYear si se proporciona.\r\n */\r\nconst formatDateForInput = (dateString, defaultYear = '') => {\r\n  if (!dateString) return '';\r\n  \r\n  // Si la cadena contiene \"/\", asumimos formato \"DD/MM/YYYY\" o \"DD/MM\"\r\n  if (dateString.includes('/')) {\r\n    const parts = dateString.split('/');\r\n    if (parts.length === 3) {\r\n      return `${parts[2]}-${parts[1]}-${parts[0]}`;\r\n    }\r\n    if (parts.length === 2 && defaultYear) {\r\n      return `${defaultYear}-${parts[1]}-${parts[0]}`;\r\n    }\r\n  }\r\n  \r\n  // Si la cadena contiene \"-\", asumimos formato \"DD-MM-YYYY\" o \"DD-MM\"\r\n  const partsDash = dateString.split('-');\r\n  if (partsDash.length === 3 && partsDash[0].length === 2) {\r\n    return `${partsDash[2]}-${partsDash[1]}-${partsDash[0]}`;\r\n  }\r\n  if (partsDash.length === 2 && defaultYear) {\r\n    return `${defaultYear}-${partsDash[1]}-${partsDash[0]}`;\r\n  }\r\n  \r\n  // Por defecto, intenta convertir usando Date\r\n  const dateObj = new Date(dateString);\r\n  if (isNaN(dateObj.getTime())) return '';\r\n  return dateObj.toISOString().split('T')[0];\r\n};\r\n\r\n/**\r\n * Extrae el año de una fecha en formato \"DD/MM/YYYY\" o \"DD-MM-YYYY\".\r\n */\r\nconst getYearFromDate = (dateStr) => {\r\n  if (!dateStr) return '';\r\n  const parts = dateStr.includes('/') ? dateStr.split('/') : dateStr.split('-');\r\n  return parts.length === 3 ? parts[2] : '';\r\n};\r\n\r\n/**\r\n * HotelModal permite agregar o editar una asignación de hotel.\r\n *\r\n * Props:\r\n * - show: Booleano para mostrar/ocultar el modal.\r\n * - onHide: Callback para ocultar el modal.\r\n * - initialData: Objeto con los datos iniciales de la asignación. En edición debe contener \"assignment_id\".\r\n * - onSave: Callback que se invoca con el payload cuando se envía el formulario.\r\n * - onAddAnother: Callback para iniciar el flujo de agregar otra asignación para el mismo día.\r\n * - groupPax: Número total de pasajeros del grupo (para validación).\r\n */\r\nconst HotelModal = ({\r\n  show,\r\n  onHide,\r\n  initialData = {},\r\n  onSave,\r\n  onAddAnother,\r\n  groupPax,\r\n}) => {\r\n  // Determina si estamos en modo edición (se asume que en edición initialData.assignment_id existe)\r\n  const isEditing = Boolean(initialData.assignment_id);\r\n  \r\n  // Extraemos el año de la fecha principal para usarlo como valor por defecto en fechas incompletas\r\n  const defaultYear = getYearFromDate(initialData.date);\r\n\r\n  // Estados para los campos de la asignación\r\n  const [city, setCity] = useState(initialData.city || '');\r\n  const [id_day, setIdDay] = useState(initialData.id_day || '');\r\n  const [assignedPax, setAssignedPax] = useState(initialData.assigned_pax || 0);\r\n  const [date, setDate] = useState(formatDateForInput(initialData.date, defaultYear));\r\n  const [hotelId, setHotelId] = useState(initialData.id_hotel || '');\r\n  const [hotelsList, setHotelsList] = useState([]);\r\n  const [checkIn, setCheckIn] = useState(\r\n    initialData.check_in ? formatDateForInput(initialData.check_in, defaultYear) : ''\r\n  );\r\n  const [checkOut, setCheckOut] = useState(\r\n    initialData.check_out ? formatDateForInput(initialData.check_out, defaultYear) : ''\r\n  );\r\n  const [roomingList, setRoomingList] = useState(\r\n    typeof initialData.rooming_list === 'boolean' ? initialData.rooming_list : false\r\n  );\r\n  const [proForma, setProForma] = useState(\r\n    typeof initialData.pro_forma === 'boolean' ? initialData.pro_forma : false\r\n  );\r\n  const [currency, setCurrency] = useState(initialData.currency || 'EUR');\r\n  const [totalToPay, setTotalToPay] = useState(\r\n    initialData.total_to_pay != null ? initialData.total_to_pay : 0\r\n  );\r\n  const [paymentDate, setPaymentDate] = useState(\r\n    initialData.payment_date ? formatDateForInput(initialData.payment_date, defaultYear) : ''\r\n  );\r\n  const [paymentDoneDate, setPaymentDoneDate] = useState(\r\n    formatDateForInput(initialData.payment_done_date, defaultYear)\r\n  );\r\n  const [factura, setFactura] = useState(\r\n    typeof initialData.factura === 'boolean' ? initialData.factura : false\r\n  );\r\n  const [iga, setIga] = useState(\r\n    typeof initialData.iga === 'boolean' ? initialData.iga : false\r\n  );\r\n  const [paxAssigned, setPaxAssigned] = useState(initialData.pax || 0);\r\n  const [comment, setComment] = useState('');\r\n  const [validationMsg, setValidationMsg] = useState('');\r\n\r\n  // Calcula la cantidad máxima de PAX disponibles para esta asignación.\r\n  // En modo edición: available = groupPax - (assignedPax - initialData.pax)\r\n  // En modo agregar: available = groupPax.\r\n  const availableForEditing = isEditing\r\n    ? parseInt(groupPax, 10) - (parseInt(assignedPax, 10) - parseInt(initialData.pax || 0, 10))\r\n    : parseInt(groupPax, 10);\r\n\r\n  // Validación en tiempo real para PAX: si el valor ingresado excede el máximo, se muestra un mensaje.\r\n  useEffect(() => {\r\n    const paxVal = parseInt(paxAssigned, 10);\r\n    if (paxVal > availableForEditing) {\r\n      setValidationMsg(`El número de PAX asignados no puede superar los disponibles (${availableForEditing}).`);\r\n    } else {\r\n      setValidationMsg('');\r\n    }\r\n  }, [paxAssigned, availableForEditing]);\r\n\r\n  // Actualiza los estados cuando initialData cambia\r\n  useEffect(() => {\r\n    setCity(initialData.city || '');\r\n    setDate(formatDateForInput(initialData.date, defaultYear));\r\n    setHotelId(initialData.id_hotel || '');\r\n    setIdDay(initialData.id_day || '');\r\n    setAssignedPax(initialData.assigned_pax || 0);\r\n    if (initialData.city) {\r\n      fetch(`${process.env.REACT_APP_API_URL}/hotels/get_hotel_by_city?city=${encodeURIComponent(initialData.city)}`)\r\n        .then(res => res.json())\r\n        .then(data => setHotelsList(data))\r\n        .catch(err => console.error('Error al obtener hoteles:', err));\r\n    }\r\n    setCheckIn(initialData.check_in ? formatDateForInput(initialData.check_in, defaultYear) : '');\r\n    setCheckOut(initialData.check_out ? formatDateForInput(initialData.check_out, defaultYear) : '');\r\n    setPaxAssigned(initialData.pax || 0);\r\n    setRoomingList(typeof initialData.rooming_list === 'boolean' ? initialData.rooming_list : false);\r\n    setProForma(typeof initialData.pro_forma === 'boolean' ? initialData.pro_forma : false);\r\n    setCurrency(initialData.currency || 'EUR');\r\n    setTotalToPay(initialData.total_to_pay != null ? initialData.total_to_pay : 0);\r\n    setPaymentDate(initialData.payment_date ? formatDateForInput(initialData.payment_date, defaultYear) : '');\r\n    setPaymentDoneDate(formatDateForInput(initialData.payment_done_date, defaultYear));\r\n    setFactura(typeof initialData.factura === 'boolean' ? initialData.factura : false);\r\n    setIga(typeof initialData.iga === 'boolean' ? initialData.iga : false);\r\n    setComment('');\r\n    setValidationMsg('');\r\n  }, [initialData, defaultYear]);\r\n\r\n  // Si no hay valor para check-in, se calcula automáticamente a partir de la fecha\r\n  useEffect(() => {\r\n    if (date && (!initialData.check_in || initialData.check_in === '')) {\r\n      setCheckIn(date);\r\n      const dt = new Date(date);\r\n      dt.setDate(dt.getDate() + 1);\r\n      setCheckOut(dt.toISOString().split('T')[0]);\r\n    }\r\n  }, [date, initialData.check_in]);\r\n\r\n  // Maneja el envío del formulario\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const paxVal = parseInt(paxAssigned, 10);\r\n    if (paxVal === 0) {\r\n      setValidationMsg('El número de PAX asignados debe ser mayor que 0.');\r\n      return;\r\n    }\r\n    if (paxVal > availableForEditing) {\r\n      setValidationMsg(`El número de PAX asignados no puede superar los disponibles para esta asignación (${availableForEditing}).`);\r\n      return;\r\n    }\r\n    const payload = {\r\n      id: initialData.assignment_id || '',\r\n      id_hotel: parseInt(hotelId, 10),\r\n      id_group: initialData.id_group || '',\r\n      start_date: checkIn,\r\n      end_date: checkOut,\r\n      pax: paxVal,\r\n      currency,\r\n      total_to_pay: parseFloat(totalToPay),\r\n      comment,\r\n      rooming_list: roomingList,\r\n      pro_forma: proForma,\r\n      payment_date: paymentDate || null,\r\n      payment_done_date: paymentDoneDate || null,\r\n      payed_by: null,\r\n      factura,\r\n      iga,\r\n    };\r\n    try {\r\n      await onSave(payload);\r\n      onHide();\r\n      return true;\r\n    } catch (error) {\r\n      // Si el backend retorna un error, lo mostramos en el modal\r\n      if (error && error.detail) {\r\n        setValidationMsg(error.detail);\r\n      } else {\r\n        setValidationMsg('Error al guardar la asignación.');\r\n      }\r\n      console.error('Error en onSave:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Maneja el clic en \"Agregar otro hotel para este día\"\r\n  const handleAddAnotherClick = async () => {\r\n    const saved = await handleSubmit(new Event('submit'));\r\n    const newPax = parseInt(assignedPax, 10) - parseInt(initialData.pax || 0, 10) + parseInt(paxAssigned, 10);\r\n    if (saved && onAddAnother) {\r\n      onAddAnother({\r\n        city,\r\n        date,\r\n        new_pax: newPax,\r\n        id_day,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Carga de divisas (simulada)\r\n  const [allCurrencies, setAllCurrencies] = useState([]);\r\n  useEffect(() => {\r\n    const fetchCurrencies = async () => {\r\n      const currencies = ['EUR', 'USD', 'CHF', 'GBP', 'ARS', 'JPY', 'CNY', 'INR', 'BRL', 'CAD'];\r\n      setAllCurrencies(currencies);\r\n    };\r\n    fetchCurrencies();\r\n  }, []);\r\n  const favoriteCurrencies = ['EUR', 'USD', 'CHF', 'GBP'];\r\n\r\n  return (\r\n    <Modal show={show} onHide={onHide} centered size=\"lg\">\r\n      <Form onSubmit={handleSubmit}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            {initialData.assignment_id ? 'Editar Asignación de Hotel' : 'Agregar Asignación de Hotel'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {/* Row 1: Ciudad y Fecha (solo lectura) */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formCity\">\r\n                <Form.Label>Ciudad</Form.Label>\r\n                <Form.Control type=\"text\" value={city} readOnly aria-label=\"Ciudad\" />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formDate\">\r\n                <Form.Label>Fecha</Form.Label>\r\n                <Form.Control type=\"date\" value={date} readOnly aria-label=\"Fecha\" />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Row 2: Selección de Hotel */}\r\n          <Form.Group controlId=\"formHotel\">\r\n            <Form.Label>Hotel</Form.Label>\r\n            <Form.Select value={hotelId} onChange={(e) => setHotelId(e.target.value)} required aria-label=\"Seleccionar Hotel\">\r\n              <option value=\"\">Seleccione un hotel</option>\r\n              {hotelsList.map((hotel) => (\r\n                <option key={hotel.id_hotel} value={hotel.id_hotel}>\r\n                  {hotel.hotel_name}\r\n                </option>\r\n              ))}\r\n            </Form.Select>\r\n          </Form.Group>\r\n          {/* Row 3: Check-in y Check-out */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formCheckIn\">\r\n                <Form.Label>Check-in</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={checkIn}\r\n                  onChange={(e) => setCheckIn(e.target.value)}\r\n                  required\r\n                  aria-label=\"Fecha de Check-in\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formCheckOut\">\r\n                <Form.Label>Check-out</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={checkOut}\r\n                  onChange={(e) => setCheckOut(e.target.value)}\r\n                  required\r\n                  aria-label=\"Fecha de Check-out\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Row 4: Switches para Rooming List y Pro Forma */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={4}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formRoomingList\"\r\n                label=\"Rooming List Enviado\"\r\n                checked={roomingList}\r\n                onChange={(e) => setRoomingList(e.target.checked)}\r\n                aria-label=\"Activar Rooming List Enviado\"\r\n              />\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formProForma\"\r\n                label=\"Pro Forma Enviado\"\r\n                checked={proForma}\r\n                onChange={(e) => setProForma(e.target.checked)}\r\n                aria-label=\"Activar Pro Forma Enviado\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n          {/* Row 5: Divisa, Total a Pagar y PAX Asignados */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={4}>\r\n              <Form.Group controlId=\"formCurrency\">\r\n                <Form.Label>Divisa</Form.Label>\r\n                <Form.Select value={currency} onChange={(e) => setCurrency(e.target.value)} aria-label=\"Seleccionar Divisa\">\r\n                  <optgroup label=\"Favoritas\">\r\n                    {favoriteCurrencies.map((favCurrency) => (\r\n                      <option key={favCurrency} value={favCurrency}>\r\n                        {favCurrency}\r\n                      </option>\r\n                    ))}\r\n                  </optgroup>\r\n                  <optgroup label=\"Todas las divisas\">\r\n                    {allCurrencies\r\n                      .filter((curr) => !favoriteCurrencies.includes(curr))\r\n                      .map((curr) => (\r\n                        <option key={curr} value={curr}>\r\n                          {curr}\r\n                        </option>\r\n                      ))}\r\n                  </optgroup>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group controlId=\"formTotalToPay\">\r\n                <Form.Label>Total a Pagar</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={totalToPay}\r\n                  onChange={(e) => setTotalToPay(e.target.value)}\r\n                  required\r\n                  aria-label=\"Total a Pagar\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group controlId=\"formPAX\">\r\n                <Form.Label>PAX Asignados</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  value={paxAssigned}\r\n                  onChange={(e) => setPaxAssigned(e.target.value)}\r\n                  required\r\n                  aria-label=\"PAX Asignados\"\r\n                />\r\n                <Form.Text muted>\r\n                  Disponible para esta asignación: {availableForEditing} (Total grupo: {groupPax})\r\n                </Form.Text>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Row 6: Fechas de Pago */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formPaymentDate\">\r\n                <Form.Label>Fecha A Pagar</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={paymentDate}\r\n                  onChange={(e) => setPaymentDate(e.target.value)}\r\n                  aria-label=\"Fecha A Pagar\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Group controlId=\"formPaymentDoneDate\">\r\n                <Form.Label>Fecha de Pago Realizado</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  value={paymentDoneDate}\r\n                  onChange={(e) => setPaymentDoneDate(e.target.value)}\r\n                  aria-label=\"Fecha de Pago Realizado\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          {/* Row 7: Factura e IGA */}\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formFactura\"\r\n                label=\"Factura Emitida\"\r\n                checked={factura}\r\n                onChange={(e) => setFactura(e.target.checked)}\r\n                aria-label=\"Activar Factura Emitida\"\r\n              />\r\n            </Col>\r\n            <Col md={6}>\r\n              <Form.Check\r\n                type=\"switch\"\r\n                id=\"formIGA\"\r\n                label=\"IGA Gestionado\"\r\n                checked={iga}\r\n                onChange={(e) => setIga(e.target.checked)}\r\n                aria-label=\"Activar IGA Gestionado\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n          {/* Row 8: Comentarios */}\r\n          <Form.Group controlId=\"formNotes\" className=\"mb-3\">\r\n            <Form.Label>Comentarios</Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              rows={3}\r\n              placeholder=\"Escribe un nuevo comentario. Los anteriores quedarán registrados.\"\r\n              value={comment}\r\n              onChange={(e) => setComment(e.target.value)}\r\n              aria-label=\"Comentarios\"\r\n            />\r\n          </Form.Group>\r\n          {validationMsg && <Alert variant=\"danger\">{validationMsg}</Alert>}\r\n        </Modal.Body>\r\n        <Modal.Footer className=\"d-flex justify-content-between\">\r\n          <div>\r\n            <Button variant=\"secondary\" onClick={onHide}>\r\n              Cancelar\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              type=\"submit\"\r\n              className=\"ms-2\"\r\n              disabled={parseInt(paxAssigned, 10) === 0 || parseInt(paxAssigned, 10) > availableForEditing}\r\n            >\r\n              Guardar Cambios\r\n            </Button>\r\n          </div>\r\n          <Button\r\n            variant=\"outline-primary\"\r\n            onClick={handleAddAnotherClick}\r\n            disabled={parseInt(paxAssigned, 10) === 0 || parseInt(paxAssigned, 10) >= availableForEditing}\r\n          >\r\n            Agregar otro hotel para este día\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nHotelModal.propTypes = {\r\n  show: PropTypes.bool.isRequired,\r\n  onHide: PropTypes.func.isRequired,\r\n  initialData: PropTypes.object,\r\n  onSave: PropTypes.func.isRequired,\r\n  onAddAnother: PropTypes.func,\r\n  groupPax: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default HotelModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}